<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>ìƒí’ˆ ê´€ë¦¬</title>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/style.css}">

    <style>
        /* í°íŠ¸ ë° ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì„¤ì • */
        body {
            font-family: 'Nanum Gothic', sans-serif;
            background-color: #f7f3ed; /* ë”°ëœ»í•œ í¬ë¦¼/ë² ì´ì§€ í†¤ ë°°ê²½ */
        }

        /* ì»¤ìŠ¤í…€ ìƒ‰ìƒ ì •ì˜ (ë”°ëœ»í•œ ì»¤í”¼ í†¤) */
        .bg-coffee { background-color: #5d4037 !important; } /* ì§„í•œ ì»¤í”¼ìƒ‰ */
        .text-coffee { color: #5d4037 !important; }
        .btn-coffee {
            background-color: #5d4037;
            border-color: #5d4037;
            color: white;
        }
        .btn-coffee:hover {
            background-color: #4e352f;
            border-color: #4e352f;
            color: white;
        }
        .btn-outline-coffee {
            color: #5d4037;
            border-color: #5d4037;
        }
        .btn-outline-coffee:hover {
            background-color: #5d4037;
            color: white;
            border-color: #5d4037;
        }

        /* ë‚´ë¹„ê²Œì´ì…˜ ë°” ë””ìì¸ */
        .navbar-light.bg-light {
            background-color: #5d4037 !important; /* ì§™ì€ ì»¤í”¼ìƒ‰ */
        }

        /* ë„¤ë¹„ê²Œì´ì…˜ ë§í¬/ë¸Œëœë“œ ìŠ¤íƒ€ì¼ */
        .navbar-brand, .nav-link {
            color: #ece0d1 !important; /* ê¸€ì”¨ìƒ‰ì„ ë°ì€ ë¼ë–¼ í†¤ìœ¼ë¡œ ì„¤ì • */
            font-weight: 500;
        }
        .navbar-brand:hover, .nav-link:hover {
            color: white !important;
        }
        .navbar-nav .nav-item .nav-link.active {
            color: white !important;
            font-weight: 700;
            border-bottom: 2px solid white;
        }

        /* ğŸ’¡ ì¶”ê°€/ìˆ˜ì •: JSì—ì„œ ì‚¬ìš©í•  ë‚´ë¹„ê²Œì´ì…˜ ë²„íŠ¼ ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼ */
        #nav-menu .btn {
            margin-left: 8px;
            font-size: 0.9rem;
            padding: 0.375rem 0.75rem; /* Bootstrap ê¸°ë³¸ ë²„íŠ¼ íŒ¨ë”© */
        }
        /* ê¸°ë³¸ ìƒíƒœ: í°ìƒ‰ í…Œë‘ë¦¬ì™€ í…ìŠ¤íŠ¸ */
        .btn-nav-custom {
            background-color: transparent;
            color: white !important;
            border: 1px solid #ece0d1;
        }
        .btn-nav-custom:hover {
            background-color: #7b5849; /* ë°°ê²½ë³´ë‹¤ ì•½ê°„ ë°ì€ í†¤ìœ¼ë¡œ í˜¸ë²„ íš¨ê³¼ */
            border-color: white;
            color: white !important;
        }
        /* í™œì„±í™” ìƒíƒœ: ë¼ë–¼ í†¤ ë°°ê²½ê³¼ ì§„í•œ ì»¤í”¼ìƒ‰ í…ìŠ¤íŠ¸ */
        .btn-nav-active {
            background-color: #ece0d1;
            color: #5d4037 !important;
            border-color: #ece0d1;
        }
        .btn-nav-active:hover {
            background-color: white;
            color: #5d4037 !important;
            border-color: white;
        }

        /* ì¹´ë“œ ë””ìì¸ (ì•½ê°„ì˜ ê·¸ë¦¼ì ì¶”ê°€) */
        .card {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05); /* ë¶€ë“œëŸ¬ìš´ ê·¸ë¦¼ì */
            border: none;
        }

        /* í…Œì´ë¸” í—¤ë” ë””ìì¸ (ë¶€ë“œëŸ¬ìš´ ê°ˆìƒ‰ í†¤) */
        .table thead th {
            background-color: #ece0d1; /* ë°ì€ ë¼ë–¼ í†¤ */
            color: #5d4037; /* ê¸€ì”¨ìƒ‰ì€ ì§„í•œ ì»¤í”¼ìƒ‰ */
            border-bottom: 2px solid #5d4037;
        }

        /* ëª¨ë‹¬ ë²„íŠ¼ ìŠ¤íƒ€ì¼ í†µì¼ */
        #productModal .btn-primary {
            background-color: #5d4037;
            border-color: #5d4037;
        }
        #productModal .btn-primary:hover {
            background-color: #4e352f;
            border-color: #4e352f;
        }
    </style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-coffee px-3">
    <a href="/" class="navbar-brand fw-semibold">â˜• Cafe MSA</a>
    <div class="ms-auto" id="nav-menu">
    </div>
</nav>

<div class="container mt-4">
    <div class="card p-3">
        <div class="d-flex justify-content-between align-items-center mb-3">
            <h2 class="mb-0 text-coffee">ìƒí’ˆ ê´€ë¦¬</h2>
            <button id="btn-add-product" class="btn btn-coffee" onclick="showAddProductModal()">
                ìƒí’ˆ ì¶”ê°€
            </button>
        </div>

        <div class="mb-3">
            <div class="btn-group" role="group" aria-label="ì¹´í…Œê³ ë¦¬ í•„í„°">
                <button type="button" class="btn btn-outline-coffee" id="btn-filter-all"
                        onclick="setCategoryFilter('ALL')">
                    ì „ì²´
                </button>
                <button type="button" class="btn btn-outline-coffee" id="btn-filter-drink"
                        onclick="setCategoryFilter('ìŒë£Œ')">
                    ìŒë£Œ
                </button>
                <button type="button" class="btn btn-outline-coffee" id="btn-filter-food"
                        onclick="setCategoryFilter('í‘¸ë“œ')">
                    í‘¸ë“œ
                </button>
            </div>
        </div>

        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>ìƒí’ˆëª…</th>
                    <th>ê°€ê²©</th>
                    <th>ì¹´í…Œê³ ë¦¬</th>
                    <th>í’ˆì ˆ ìœ ë¬´</th>
                    <th id="th-action">ì‘ì—…</th>
                </tr>
                </thead>
                <tbody id="productTableBody">
                </tbody>
            </table>
        </div>
    </div>
</div>

<div class="modal fade" id="productModal" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modalTitle">ìƒí’ˆ ì¶”ê°€</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <form id="productForm">
                    <input type="hidden" id="productId">

                    <div class="mb-3">
                        <label class="form-label">ìƒí’ˆëª…</label>
                        <input type="text" class="form-control" id="productName" required>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">ê°€ê²©</label>
                        <input type="number" class="form-control" id="productPrice" required>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">íŒë§¤ ìƒíƒœ</label>
                        <select class="form-select" id="productStock">
                            <option value="1">íŒë§¤ì¤‘</option>
                            <option value="0">í’ˆì ˆ</option>
                        </select>
                    </div>

                    <div class="mb-3">
                        <label class="form-label">ì¹´í…Œê³ ë¦¬</label>
                        <select class="form-select" id="productCategory">
                            <option value="ìŒë£Œ">ìŒë£Œ</option>
                            <option value="í‘¸ë“œ">í‘¸ë“œ</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ì·¨ì†Œ</button>
                <button type="button" class="btn btn-coffee" onclick="saveProduct()">ì €ì¥</button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script th:src="@{/js/products.js}"></script>
</body>
</html>