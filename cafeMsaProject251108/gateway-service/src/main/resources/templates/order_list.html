<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>내 주문</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        /* 폰트 및 기본 스타일 설정 */
        body {
            font-family: 'Nanum Gothic', sans-serif;
            background-color: #f7f3ed; /* 따뜻한 크림/베이지 톤 배경 */
        }

        /* 커스텀 색상 정의 (따뜻한 커피 톤) */
        .bg-coffee { background-color: #5d4037 !important; } /* 진한 커피색 */
        .text-coffee { color: #5d4037 !important; }
        .btn-outline-coffee {
            color: #5d4037;
            border-color: #5d4037;
        }
        .btn-outline-coffee:hover {
            background-color: #5d4037;
            color: white;
            border-color: #5d4037;
        }

        /* 내비게이션 바 디자인 (짙은 커피색) */
        .navbar-dark.bg-dark {
            background-color: #5d4037 !important;
        }

        /* 카드 디자인 (약간의 그림자 추가) */
        .card {
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05); /* 부드러운 그림자 */
            border: none;
        }

        /* 테이블 헤더 디자인 (부드러운 갈색 톤) */
        .table-light thead th {
            background-color: #ece0d1; /* 밝은 라떼 톤 */
            color: #5d4037; /* 글씨색은 진한 커피색 */
            border-bottom: 2px solid #5d4037;
        }

        .status-badge {
            text-transform: uppercase;
            letter-spacing: .3px;
        }

        .table td, .table th {
            vertical-align: middle;
        }

        /* 품목수와 총금액, 자세히 TH의 텍스트 정렬을 오른쪽으로 설정 */
        .table th.text-end {
            text-align: end !important;
        }

        /* 상태 셀의 정렬은 왼쪽으로 유지 */
        .table th:nth-child(2) {
            text-align: left;
        }
    </style>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark bg-coffee">
    <div class="container">
        <a class="navbar-brand fw-semibold" href="/">☕ Cafe MSA</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMain">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navMain">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link" href="/products">상품</a></li>
                <li class="nav-item"><a class="nav-link" href="/cart">장바구니</a></li>
                <li class="nav-item"><a class="nav-link active" href="/orders">내 주문</a></li>
                <li class="nav-item"><a class="nav-link" href="/reviews">리뷰</a></li>
            </ul>
        </div>
    </div>
</nav>

<div class="container py-4">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 class="mb-0 text-coffee">내 주문 내역</h3> <div>
        <a href="/products" class="btn btn-outline-coffee">계속 쇼핑</a>
    </div>
    </div>

    <div id="loading" class="d-flex align-items-center mb-3 text-coffee">
        <div class="spinner-border me-2" role="status" aria-hidden="true"></div>
        <strong>주문을 불러오는 중…</strong>
    </div>

    <div id="empty" class="alert alert-info" style="display:none">
        아직 주문이 없습니다. <a href="/products" class="alert-link">상품 보러가기</a>
    </div>

    <div class="card">
        <div class="table-responsive">
            <table class="table mb-0">
                <thead class="table-light"> <tr>
                    <th style="width:120px">주문번호</th>
                    <th style="width:100px">상태</th>
                    <th class="text-end" style="width:100px">품목수</th>
                    <th class="text-end" style="width:160px">총 금액</th>
                    <th class="text-end" style="width:150px">자세히</th> </tr>
                </thead>
                <tbody id="tbody"></tbody>
            </table>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/orders_list.js?v=1" defer></script>
</body>
</html>